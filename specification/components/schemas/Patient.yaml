type: object
required:
  - id
properties:
  resourceType:
    type: string
    description: FHIR resource type.
    default: "Patient"
    readOnly: true
  id:
    $ref: "NhsNumber.yaml"
    readOnly: true
  identifier:
    $ref: "Identifier.yaml"
  meta:
    $ref: "Meta.yaml"
  name:
    type: array
    description: | 
      List of names associated with the patient.
      
      When a patient tagged as `very restricted` is retrieved, all names will be removed from the response.
    minItems: 1
    items:
      $ref: "HumanName.yaml"
  gender:
    $ref: "Gender.yaml"
  birthDate:
    description: |
      The date on which the patient was born or is officially deemed to have been born.
      
      It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.
      
      When a patient tagged as `very restricted` is retrieved, birth date will be removed from the response.
    example: "2010-10-22"
    type: string
    format: date
  multipleBirthInteger:
    $ref: "MultipleBirthOrder.yaml"
  deceasedDateTime:
    description: |
      The date and time on which a person died or is officially deemed to have died, if applicable and known.
      
      It is a datetime in the format `yyyy-mm-ddTHH:MM:SS+HH:MM` or `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.
      
      When a patient tagged as `very restricted` is retrieved, death date will be removed from the response.
    example: "2010-10-22T00:00:00+00:00"
    type: string
    format: date-time
  address:
    type: array
    description: | 
      List of addresses associated with the patient.
      
      This will only be fully populated on a retrieval, only a the `home` address will be returned on a search.

      When a patient tagged as `restricted` or `very restricted` is retrieved, all addresses will be removed from the response.
    items:
      $ref: "Address.yaml"
  telecom:
    type: array
    description: |
      List of contact points for the patient; for example, phone numbers or email addresses.

      When a patient tagged as `restricted` or `very restricted` is retrieved, all contact points will be removed from the response.
    items:
      $ref: "ContactPoint.yaml"
  contact:
    type: array
    description: |
      List of patient contacts. This will only be contact details for Emergency Contacts, all other contacts should be added to the patient's related person.

      When a patient tagged as `restricted` or `very restricted` is retrieved, all contacts will be removed from the response.
    items:
      $ref: "Contact.yaml"
  generalPractitioner:
    type: array
    maxItems: 1
    description: |
      General Practice (not practitioner) with which the patient is, or was, registered. Always contains zero or one general practitioner object.

      When a patient tagged as `restricted` or `very restricted` is retrieved, the General Practice will be removed from the response.
    items:
      $ref: "GeneralPractitionerReference.yaml"
  extension:
    type: array
    description: |
      Wrapper array for the patient's pharmacies, death notification status, communication details and contact preferences; these are all FHIR extensions. Always contains zero or one of each pharmacy object, zero or one death notification status object, zero or one communication details object, zero or one contact preference and zero or one place of birth object.

      When a patient tagged as `restricted` or `very restricted` is retrieved, the Pharmacy and Birth Place extensions will be removed from the response.
    items:
      anyOf:
        - $ref: extensions/NominatedPharmacy.yaml
        - $ref: extensions/DispensingDoctor.yaml
        - $ref: extensions/MedicalApplianceSupplier.yaml
        - $ref: extensions/DeathNotificationStatus.yaml
        - $ref: extensions/Communication.yaml
        - $ref: extensions/ContactPreference.yaml
        - $ref: extensions/BirthPlace.yaml
