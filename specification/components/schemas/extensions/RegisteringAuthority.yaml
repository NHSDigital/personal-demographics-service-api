type: object
description: Wrapper object for the patient's dispensing doctor. This will only be populated on a retrieval and not a search.
required:
  - url
  - extension
properties:
  url:
    type: string
    description: URL of specification of UKCore-RegisteringAuthority FHIR extension.
    enum: ["https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-RegisteringAuthority"]
    example: https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-RegisteringAuthority
  extension:
    type: array
    description: "Specification of registering authority. Contains exactly two items: one describing the registering authority type, and the other specifying the value organisation identifier."
    minItems: 2
    maxItems: 2
    items:
      anyOf:
        - type: object
          description: Coding system of the registering authority.
          required:
            - url
            - valueCodeableConcept
          properties:
            url:
              type: string
              description: URL of specification of UKCore-RegisteringAuthority FHIR extension.
              enum: ["https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-RegisteringAuthority"]
              example: https://fhir.hl7.org.uk/StructureDefinition/Extension-UKCore-RegisteringAuthority
            valueCodeableConcept:
              type: object
              description: Value codeable concept representing registering authority type.
              required:
                - coding
              properties:
                coding:
                  type: array
                  minItems: 1
                  maxItems: 1
                  items:
                    type: object
                    required:
                      - system
                      - code
                    properties:
                      system:
                        type: string
                        description: URL of Code System that describes registering authority type.
                        enum: ["https://fhir.nhs.uk/CodeSystem/UKCore-RegisteringAuthorityType"]
                        example: https://fhir.nhs.uk/CodeSystem/UKCore-RegisteringAuthorityType
                      code:
                        type: string
                        description: Value that represents type of registering authority.
                        example: "x"                            
        - type: object
          description: Value of organisation identifier.
          required:
            - url
            - valueString
          properties:
            url:
              type: string
              description: Always 'organisationIdentifier'.
              enum: ["organisationIdentifier"]
              example: organisationIdentifier
            valueString:
              type: string
              description: Idenitifier of the registering authority organisation.
              example: 'RGS'
